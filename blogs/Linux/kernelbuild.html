<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>使用 Docker 编译 Android 内核 | Hana's Blog</title><meta name="description" content="Welcome~">
    <link rel="modulepreload" href="/assets/app-32d0afd8.js"><link rel="modulepreload" href="/assets/framework-e6265383.js"><link rel="modulepreload" href="/assets/kernelbuild.html-2d9cb8ea.js"><link rel="modulepreload" href="/assets/kernelbuild.html-715ed3a1.js"><link rel="prefetch" href="/assets/index.html-8668240c.js" as="script"><link rel="prefetch" href="/assets/git-tutorial.html-7ee13367.js" as="script"><link rel="prefetch" href="/assets/build-kernel.html-62734d3e.js" as="script"><link rel="prefetch" href="/assets/rom-notes.html-345e4db3.js" as="script"><link rel="prefetch" href="/assets/index.html-53435bda.js" as="script"><link rel="prefetch" href="/assets/api.html-0724d8c1.js" as="script"><link rel="prefetch" href="/assets/home.html-9d67ebe2.js" as="script"><link rel="prefetch" href="/assets/plugin.html-60e42dda.js" as="script"><link rel="prefetch" href="/assets/theme.html-827e91e1.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/assets/index.html-c7cb7564.js" as="script"><link rel="prefetch" href="/assets/index.html-4e5ab0a1.js" as="script"><link rel="prefetch" href="/assets/index.html-1b32e371.js" as="script"><link rel="prefetch" href="/assets/index.html-84d71758.js" as="script"><link rel="prefetch" href="/assets/index.html-f74a6f04.js" as="script"><link rel="prefetch" href="/assets/index.html-c8596e07.js" as="script"><link rel="prefetch" href="/assets/index.html-12eeddd9.js" as="script"><link rel="prefetch" href="/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/assets/index.html-6672784a.js" as="script"><link rel="prefetch" href="/assets/git-tutorial.html-8b75b8ea.js" as="script"><link rel="prefetch" href="/assets/build-kernel.html-cfc75d60.js" as="script"><link rel="prefetch" href="/assets/rom-notes.html-29511dfa.js" as="script"><link rel="prefetch" href="/assets/index.html-63a17d9f.js" as="script"><link rel="prefetch" href="/assets/api.html-d04af5f4.js" as="script"><link rel="prefetch" href="/assets/home.html-a6df6c3f.js" as="script"><link rel="prefetch" href="/assets/plugin.html-7ae3bd01.js" as="script"><link rel="prefetch" href="/assets/theme.html-36e69dc2.js" as="script"><link rel="prefetch" href="/assets/404.html-79e7a27e.js" as="script"><link rel="prefetch" href="/assets/index.html-2e478a05.js" as="script"><link rel="prefetch" href="/assets/index.html-386485aa.js" as="script"><link rel="prefetch" href="/assets/index.html-0974ab03.js" as="script"><link rel="prefetch" href="/assets/index.html-2a84eb2d.js" as="script"><link rel="prefetch" href="/assets/index.html-77b52164.js" as="script"><link rel="prefetch" href="/assets/index.html-565fa563.js" as="script"><link rel="prefetch" href="/assets/index.html-e819ee01.js" as="script"><link rel="prefetch" href="/assets/index.html-15f56c79.js" as="script"><link rel="prefetch" href="/assets/index.html-e5879cbe.js" as="script"><link rel="prefetch" href="/assets/reco-valine-a0c1af1f.js" as="script">
    <link rel="preload" href="/assets/style-2d1e1587.css" as="style"><link rel="stylesheet" href="/assets/style-2d1e1587.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/" class=""><img class="logo" src="/logo.png" alt="Hana&#39;s Blog"><span class="site-name can-hide">Hana&#39;s Blog</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/categories/Linux, Android/1/" class="nav-link" aria-label="Linux, Android"><!--[--><!--]--> Linux, Android <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Git/1/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Linux/1/" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Android/1/" class="nav-link" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/tags/kernel build/1/" class="nav-link" aria-label="kernel build"><!--[--><!--]--> kernel build <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/git/1/" class="nav-link" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/ROM Bring up/1/" class="nav-link" aria-label="ROM Bring up"><!--[--><!--]--> ROM Bring up <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/docs/friends/" class="nav-link" aria-label="Friends"><!--[--><!--]--> Friends <!--[--><!--]--></a></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Categories">Categories <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Categories"><span class="title"><span>Categories</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/categories/Linux, Android/1/" class="nav-link" aria-label="Linux, Android"><!--[--><!--]--> Linux, Android <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Git/1/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Linux/1/" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/categories/Android/1/" class="nav-link" aria-label="Android"><!--[--><!--]--> Android <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Tags">Tags <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Tags"><span class="title"><span>Tags</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/tags/kernel build/1/" class="nav-link" aria-label="kernel build"><!--[--><!--]--> kernel build <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/git/1/" class="nav-link" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/ROM Bring up/1/" class="nav-link" aria-label="ROM Bring up"><!--[--><!--]--> ROM Bring up <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/docs/friends/" class="nav-link" aria-label="Friends"><!--[--><!--]--> Friends <!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">使用 Docker 编译 Android 内核</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Hana<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2023-05-11<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Linux, Android<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->kernel build<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><p>简易内核编译教程，请与 bilibili 视频配套使用 <a href="https://www.bilibili.com/video/BV1Gm4y1h7W6/" target="_blank" rel="noopener noreferrer">Click me!<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>本文假设您拥有最基本的 Linux 操作知识以及科学上网的能力</p><h2 id="环境的配置" tabindex="-1"><a class="header-anchor" href="#环境的配置" aria-hidden="true">#</a> 环境的配置</h2><p>准备好可以编译的内核源码</p><p>这里为 renoir 编译，就使用我自己的源码吧</p><p><a href="https://github.com/EndCredits/android_kernel_xiaomi_sm8350" target="_blank" rel="noopener noreferrer">EndCredits/android_kernel_xiaomi_sm8350<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>为避免发行版差异造成的配置失败，这里使用 Docker 来简化环境搭建</p><p>这里是项目地址 <a href="https://github.com/EndCredits/Docker_Build_AOSP" target="_blank" rel="noopener noreferrer">EndCredits/Docker_Build_AOSP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>为方便说明，以下所有需要传入的路径均为绝对路径</p><p>前面的都照着项目里的 README 来就好，从路径配置开始 稍微与 README 有点差别</p><p>见下面的指令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Host 中执行</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLANG_PATH</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to your clang<span class="token operator">&gt;</span> <span class="token comment"># 你 Clang 放置的位置</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是使用 fish 的话，需要用 set 指令来设置环境变量</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Host 中执行</span>
<span class="token builtin class-name">set</span> CLANG_PATH <span class="token operator">&lt;</span>path to your clang<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Host 中执行</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">KERNEL_SRC</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to your kernel source<span class="token operator">&gt;</span> // 你内核源码树的位置
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以运行 Docker 容器了</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Host 中执行</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">-v</span> <span class="token variable">$CLANG_PATH</span>:/toolchains <span class="token parameter variable">-v</span> <span class="token variable">$KERNEL_SRC</span>:/kernel android-build-host
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>配置 Clang :</p><p>可以从镜像站或者 Android Source 获取 clang-google</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://mirrors.bfsu.edu.cn/git/AOSP/platform/prebuilts/clang/host/linux-x86/ clang-google <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下面把 clang 添加入环境变量</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Docker 容器中执行</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token operator">&lt;</span>path to your clang executable<span class="token operator">&gt;</span>:<span class="token environment constant">$PATH</span>

<span class="token comment">## 如果用 fish 的话可以用 fish_add_path 函数，但是 Docker 镜像里默认没有集成 fish ，一般来说直接用 bash 就好，命令都可以直接复制粘贴</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>建议所有 4.9 版本以上的内核都用 clang 来编译</p><h2 id="开始编译" tabindex="-1"><a class="header-anchor" href="#开始编译" aria-hidden="true">#</a> 开始编译</h2><p>解析编译参数</p><p><code>ARCH=arm64</code> : 设定目标架构是 arm64</p><p><code>LLVM=1</code> : 指定使用 LLVM 工具链</p><p><code>CROSS_COMPILE</code> : 指定使用的交叉编译工具链前缀</p><p><code>CROSS_COMPILE_COMPAT</code> : 制定使用的 32 位交叉编译工具链 ( vsdo 会用到 ), 如果你的内核版本低于 4.19 的话，这个参数应该叫 <code>CROSS_COMPILE_ARM32</code></p><p><code>CLANG_TRIPLE</code> = : 使用 AOSP Clang 时会用到</p><p><code>O</code> : 指定输出目录</p><p><code>-j(nproc --all)</code> : 使用全部线程编译</p><p>首先编译内核的配置文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Docker 容器中执行</span>

<span class="token builtin class-name">cd</span> /kernel

<span class="token function">make</span> <span class="token assign-left variable">ARCH</span><span class="token operator">=</span>arm64 <span class="token assign-left variable">LLVM</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">CROSS_COMPILE</span><span class="token operator">=</span>aarch64-linux-gnu- <span class="token assign-left variable">CROSS_COMPILE_COMPAT</span><span class="token operator">=</span>arm-linux-gnueabi- <span class="token assign-left variable">CLANG_TRIPLE</span><span class="token operator">=</span>aarch64-linux-gnu- <span class="token assign-left variable">O</span><span class="token operator">=</span>out -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span> vendor/lahaina-qgki_defconfig vendor/xiaomi_QGKI.config vendor/renoir_QGKI.config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个是因人而异的，不同设备的内核配置文件也不一样，比如我的 picasso 就跟这个 renoir 不同</p><p>然后就可以开始编译了</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Docker 中执行</span>
<span class="token function">make</span> <span class="token assign-left variable">ARCH</span><span class="token operator">=</span>arm64 <span class="token assign-left variable">LLVM</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">CROSS_COMPILE</span><span class="token operator">=</span>aarch64-linux-gnu- <span class="token assign-left variable">CROSS_COMPILE_COMPAT</span><span class="token operator">=</span>arm-linux-gnueabi- <span class="token assign-left variable">CLANG_TRIPLE</span><span class="token operator">=</span>aarch64-linux-gnu- <span class="token assign-left variable">O</span><span class="token operator">=</span>out -j<span class="token variable"><span class="token variable">$(</span>nproc <span class="token parameter variable">--all</span><span class="token variable">)</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>静待编译完成</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/vuepress-reco/vuepress-theme-reco-next/edit/main/example/blogs/linux/kernelbuild.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><!----></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/linux/kernelbuild.html#环境的配置" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="环境的配置"><!--[--><!--]--> 环境的配置 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/linux/kernelbuild.html#开始编译" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="开始编译"><!--[--><!--]--> 开始编译 <!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-32d0afd8.js" defer></script>
  </body>
</html>
